---

title: CondenseEditOperations


keywords: fastai
sidebar: home_sidebar

summary: "Provides utility functions to condense EditOperations into CompoundEditOperations."
description: "Provides utility functions to condense EditOperations into CompoundEditOperations."
nb_path: "nbs/01_CondenseEditOperations.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_CondenseEditOperations.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCondensedBasic" class="doc_header"><code>getCondensedBasic</code><a href="https://github.com/WM-SEMERU/hephaestus/tree/main/hephaestus/CondenseEditOperations.py#L15" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getCondensedBasic</code>(<strong><code>operations</code></strong>:<code>List</code>[<code>Union</code>[<a href="/hephaestus/EditOperations.html#InsertOperation"><code>InsertOperation</code></a>, <a href="/hephaestus/EditOperations.html#DeleteOperation"><code>DeleteOperation</code></a>, <a href="/hephaestus/EditOperations.html#ReplaceOperation"><code>ReplaceOperation</code></a>, <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a>]])</p>
</blockquote>
<p>Returns a list of CompoundOperations from the given list of <code>operations</code> such that the lengths of the
input and output lists are equal. I.e. each <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a> in the returned list represents just
one EditOperation.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">compoundOps</span> <span class="o">=</span> <span class="n">getCondensedBasic</span><span class="p">([</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">1</span>           <span class="p">),</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;add2&quot;</span>   <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span>    <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;return&quot;</span> <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;;&quot;</span>      <span class="p">)</span>
<span class="p">])</span>

<span class="n">compoundOps</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[COMPOUND_REPLACE 0:1 -&gt; [&#39;private&#39;],
 COMPOUND_DELETE 1:2,
 COMPOUND_REPLACE 2:3 -&gt; [&#39;add2&#39;],
 COMPOUND_INSERT 4 -&gt; [&#39;int&#39;],
 COMPOUND_INSERT 5 -&gt; [&#39;x&#39;],
 COMPOUND_DELETE 8:9,
 COMPOUND_DELETE 8:9,
 COMPOUND_DELETE 8:9,
 COMPOUND_INSERT 8 -&gt; [&#39;return&#39;],
 COMPOUND_INSERT 9 -&gt; [&#39;x&#39;],
 COMPOUND_INSERT 10 -&gt; [&#39;+&#39;],
 COMPOUND_INSERT 11 -&gt; [&#39;2&#39;],
 COMPOUND_INSERT 12 -&gt; [&#39;;&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span> <span class="o">=</span> <span class="n">AbstractMethod</span><span class="p">(</span><span class="s2">&quot;public static int foo ( ) { return 0 ; }&quot;</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>public static int foo ( ) { return 0 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span><span class="o">.</span><span class="n">applyEditOperations</span><span class="p">(</span><span class="n">compoundOps</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>private int add2 ( int x ) { return x + 2 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCondensedLoose" class="doc_header"><code>getCondensedLoose</code><a href="https://github.com/WM-SEMERU/hephaestus/tree/main/hephaestus/CondenseEditOperations.py#L30" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getCondensedLoose</code>(<strong><code>operations</code></strong>:<code>List</code>[<code>Union</code>[<a href="/hephaestus/EditOperations.html#InsertOperation"><code>InsertOperation</code></a>, <a href="/hephaestus/EditOperations.html#DeleteOperation"><code>DeleteOperation</code></a>, <a href="/hephaestus/EditOperations.html#ReplaceOperation"><code>ReplaceOperation</code></a>, <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a>]])</p>
</blockquote>
<p>Returns a list of CompoundOperations from the given list of <code>operations</code> such that each <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a>
in the returned list repesents EditOperations that are loosely compatible. This effectively "condenses" the
given list according to loose compatibility. The length of the returned list is minimized such that it is
as condensed as possible.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">compoundOps</span> <span class="o">=</span> <span class="n">getCondensedLoose</span><span class="p">([</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">1</span>           <span class="p">),</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;add2&quot;</span>   <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span>    <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;return&quot;</span> <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;;&quot;</span>      <span class="p">)</span>
<span class="p">])</span>

<span class="n">compoundOps</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[COMPOUND_REPLACE 0:2 -&gt; [&#39;private&#39;],
 COMPOUND_REPLACE 2:3 -&gt; [&#39;add2&#39;],
 COMPOUND_INSERT 4 -&gt; [&#39;int&#39;, &#39;x&#39;],
 COMPOUND_REPLACE 8:11 -&gt; [&#39;return&#39;, &#39;x&#39;, &#39;+&#39;, &#39;2&#39;, &#39;;&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span> <span class="o">=</span> <span class="n">AbstractMethod</span><span class="p">(</span><span class="s2">&quot;public static int foo ( ) { return 0 ; }&quot;</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>public static int foo ( ) { return 0 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span><span class="o">.</span><span class="n">applyEditOperations</span><span class="p">(</span><span class="n">compoundOps</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>private int add2 ( int x ) { return x + 2 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCondensedStrict" class="doc_header"><code>getCondensedStrict</code><a href="https://github.com/WM-SEMERU/hephaestus/tree/main/hephaestus/CondenseEditOperations.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getCondensedStrict</code>(<strong><code>operations</code></strong>:<code>List</code>[<code>Union</code>[<a href="/hephaestus/EditOperations.html#InsertOperation"><code>InsertOperation</code></a>, <a href="/hephaestus/EditOperations.html#DeleteOperation"><code>DeleteOperation</code></a>, <a href="/hephaestus/EditOperations.html#ReplaceOperation"><code>ReplaceOperation</code></a>, <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a>]])</p>
</blockquote>
<p>Returns a list of CompoundOperations from the given list of <code>operations</code> such that each <a href="/hephaestus/EditOperations.html#CompoundOperation"><code>CompoundOperation</code></a>
in the returned list repesents EditOperations that are strictly compatible. This effectively "condenses" the
given list according to strict compatibility. The length of the returned list is minimized such that it is as
condensed as possible.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">compoundOps</span> <span class="o">=</span> <span class="n">getCondensedStrict</span><span class="p">([</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;private&quot;</span><span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">1</span>           <span class="p">),</span>
    <span class="n">ReplaceOperation</span><span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;add2&quot;</span>   <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span>    <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">DeleteOperation</span> <span class="p">(</span> <span class="mi">8</span>           <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;return&quot;</span> <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span> <span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;+&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span>      <span class="p">),</span>
    <span class="n">InsertOperation</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="s2">&quot;;&quot;</span>      <span class="p">)</span>
<span class="p">])</span>

<span class="n">compoundOps</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[COMPOUND_REPLACE 0:1 -&gt; [&#39;private&#39;],
 COMPOUND_DELETE 1:2,
 COMPOUND_REPLACE 2:3 -&gt; [&#39;add2&#39;],
 COMPOUND_INSERT 4 -&gt; [&#39;int&#39;, &#39;x&#39;],
 COMPOUND_DELETE 8:11,
 COMPOUND_INSERT 8 -&gt; [&#39;return&#39;, &#39;x&#39;, &#39;+&#39;, &#39;2&#39;, &#39;;&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span> <span class="o">=</span> <span class="n">AbstractMethod</span><span class="p">(</span><span class="s2">&quot;public static int foo ( ) { return 0 ; }&quot;</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>public static int foo ( ) { return 0 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">method</span><span class="o">.</span><span class="n">applyEditOperations</span><span class="p">(</span><span class="n">compoundOps</span><span class="p">)</span>
<span class="n">method</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>private int add2 ( int x ) { return x + 2 ; }</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='You need not limit yourself to the basic <a href="/hephaestus/EditOperations.html#InsertOperation"><code>InsertOperation</code></a>, <a href="/hephaestus/EditOperations.html#DeleteOperation"><code>DeleteOperation</code></a> and <a href="/hephaestus/EditOperations.html#ReplaceOperation"><code>ReplaceOperation</code></a>. You can also condense CompoundOperations.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">compoundOps</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[COMPOUND_REPLACE 0:1 -&gt; [&#39;private&#39;],
 COMPOUND_DELETE 1:2,
 COMPOUND_REPLACE 2:3 -&gt; [&#39;add2&#39;],
 COMPOUND_INSERT 4 -&gt; [&#39;int&#39;, &#39;x&#39;],
 COMPOUND_DELETE 8:11,
 COMPOUND_INSERT 8 -&gt; [&#39;return&#39;, &#39;x&#39;, &#39;+&#39;, &#39;2&#39;, &#39;;&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">getCondensedLoose</span><span class="p">(</span><span class="n">compoundOps</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[COMPOUND_REPLACE 0:2 -&gt; [&#39;private&#39;],
 COMPOUND_REPLACE 2:3 -&gt; [&#39;add2&#39;],
 COMPOUND_INSERT 4 -&gt; [&#39;int&#39;, &#39;x&#39;],
 COMPOUND_REPLACE 8:11 -&gt; [&#39;return&#39;, &#39;x&#39;, &#39;+&#39;, &#39;2&#39;, &#39;;&#39;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

